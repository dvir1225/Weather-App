(()=>{"use strict";const e=(e,t,n)=>{(async function(e,t){const n=await fetch(`https://api.api-ninjas.com/v1/worldtime?lat=${e}&lon=${t}`,{method:"GET",headers:{"X-Api-Key":"pKp6JFlMuCitmLa9gZXMKg==MzHw02r32xKXdEyO"},contentType:"application/json",success:function(){console.log("success")},error:function(e){console.error("Error: ",e.responseText)}}),o=await n.json();return{year:o.year,month:o.month,day:o.day,hour:o.hour,minute:o.minute,second:o.second,dayOfWeek:o.day_of_week}})(t,n).then((t=>{document.querySelector(".placeName").innerText=e.name,document.querySelector(".currentTemp").innerText=e.current,document.querySelector(".feelsLike").innerText=e.feelsLike,document.querySelector(".timeDate").innerText=`${t.dayOfWeek}, ${t.day}.${t.month}.${t.year}, ${t.hour}:${t.minute}:${t.second}`}))},t={submit:document.getElementById("formSubmit"),formInput:document.getElementById("formInput"),placeName:document.querySelector(".placeName"),currentTemp:document.querySelector(".currentTemp"),feelsLike:document.querySelector(".feelsLike")};t.submit.addEventListener("click",(()=>{!async function(t){try{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=c20e51e1cd4bf0147fee570dd34d8dd1&units=metric&exclude=minutely,hourly,daily,alerts`),o=await n.json();let r={name:o.name,current:Math.floor(o.main.temp),feelsLike:Math.floor(o.main.feels_like),minTemp:o.main.temp_min,maxTemp:o.main.temp_max,weatherMain:o.weather[0].main,weatherDescription:o.weather[0].description,humidity:o.main.humidity,lat:o.coord.lat,lon:o.coord.lon};e(r,r.lat,r.lon),console.log("success")}catch{console.log("Ooops... there's an error")}}(t.formInput.value)}))})();