(()=>{"use strict";const e={submit:document.getElementById("formSubmit"),formInput:document.getElementById("formInput"),placeName:document.querySelector(".placeName"),currentTemp:document.querySelector(".currentTemp"),feelsLike:document.querySelector(".feelsLike")};e.submit.addEventListener("click",(()=>{!async function(e){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=c20e51e1cd4bf0147fee570dd34d8dd1&units=metric&exclude=minutely,hourly,daily,alerts`),n=await t.json();console.log(n);let o={name:n.name,current:Math.floor(n.main.temp),feelsLike:Math.floor(n.main.feels_like),minTemp:n.main.temp_min,maxTemp:n.main.temp_max,weatherMain:n.weather[0].main,weatherDescription:n.weather[0].description,humidity:n.main.humidity,lat:n.coord.lat,lon:n.coord.lon};(async function(e,t){const n=await fetch(`https://api.api-ninjas.com/v1/worldtime?lat=${e}&lon=${t}`,{method:"GET",headers:{"X-Api-Key":"pKp6JFlMuCitmLa9gZXMKg==MzHw02r32xKXdEyO"},contentType:"application/json",success:function(e){console.log(e)},error:function(e){console.error("Error: ",e.responseText)}}),o=await n.json(),r=o.year,a=o.month,c=o.day,i=o.hour,m=o.minute,l=o.second,u=o.day_of_week;document.querySelector(".timeDate").innerText=`${u}, ${c}.${a}.${r}, ${i}:${m}:${l}`})(o.lat,o.lon),(e=>{document.querySelector(".placeName").innerText=e.name,document.querySelector(".currentTemp").innerText=e.current,document.querySelector(".feelsLike").innerText=e.feelsLike})(o),console.log("success")}catch{console.log("Ooops... there's an error")}}(e.formInput.value)}))})();